{"ast":null,"code":"var _jsxFileName = \"/Users/jonathan.e/Desktop/viagogo-tickets/frontend/src/Components/Search.js\";\nimport React, { Component } from \"react\";\nimport DisplaySearchResults from \"./DisplaySearchResults.js\";\nimport eltonBanner from \"../ASSETS/elton_john_banner.jpg\";\nimport { Link } from \"react-router-dom\";\nimport \"../CSS/Search.css\";\n\nconst tickets = require(\"../tickets.js\"); //tickets.default.Items\n\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.calendarInputs = () => {\n      return React.createElement(\"div\", {\n        className: \"calendarInputDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, \"enter start date\"), React.createElement(\"input\", {\n        className: \"selectTag\",\n        onChange: this.handleChange,\n        type: \"date\",\n        name: \"dateStart\",\n        placeholder: \"enter start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"enter end date\"), React.createElement(\"input\", {\n        className: \"selectTag\",\n        onChange: this.handleChange,\n        type: \"date\",\n        name: \"dateEnd\",\n        placeholder: \"enter end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }));\n    };\n\n    this.displayLocations = () => {\n      let ticInfo = Object.values(tickets.default.Items);\n      let singleCity = {};\n      ticInfo.forEach((el, i) => {\n        singleCity[el.VenueCity] = el.VenueCity;\n      });\n      let finalCity = Object.values(singleCity);\n      return finalCity.map((el, i) => {\n        return React.createElement(\"option\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, el);\n      });\n    };\n\n    this.getPrice = () => {\n      let sortedValues = [];\n      let ticInfo = Object.values(tickets.default.Items);\n      ticInfo.forEach(el => {\n        sortedValues.push(el.MinPrice);\n      });\n      sortedValues.sort().reverse();\n      return sortedValues.map((el, i) => {\n        return React.createElement(\"option\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, el);\n      });\n    };\n\n    this.displayAllData = () => {\n      let ticInfo = Object.values(tickets.default.Items);\n      return ticInfo.map(tix => {\n        return React.createElement(\"div\", {\n          key: tix.EventId,\n          className: \"displayTicketInfoContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"displayLeft\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"displayPTag\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"Weekday: \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, tix.Day)), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"displayPTag\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Date: \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, tix.Date)), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"displayPTag\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Time: \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, tix.Time)), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"displayMiddle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"displayPTag\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Venue: \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, tix.VenueName)), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"displayPTag\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, \"Location: \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, tix.VenueCity)), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"displayPTag\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"Performer: \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, tix.EventName)), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"displayRight\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"displayPriceTag\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \" \", \"Price: \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, tix.MinPrice)), React.createElement(Link, {\n          className: \"buttonLinkTag\",\n          to: \"/events/\".concat(tix.EventId),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"buttonSpacer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"buttonSpan\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"textThatsButton\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"view tickets here\"))))));\n      });\n    };\n\n    this.state = {\n      location: \"\",\n      price: \"\",\n      dateStart: \"\",\n      dateEnd: \"\"\n    };\n  }\n\n  render() {\n    // console.log(typeof tickets.default.Items, \"the items\");\n    // console.log(this.state, \"location\");\n    // console.log(this.state.dateStart, \"the start date\");\n    return React.createElement(\"div\", {\n      className: \"mainSearchContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"innerSearchContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"eltonBannerPic\",\n      src: eltonBanner,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"selectionContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"selectionInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Select City: \"), React.createElement(\"select\", {\n      className: \"selectTag\",\n      onChange: this.handleChange,\n      name: \"location\",\n      value: this.state.location,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"select city\"), this.displayLocations()), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Select Price:\"), React.createElement(\"select\", {\n      className: \"selectTag\",\n      onChange: this.handleChange,\n      name: \"price\",\n      value: this.state.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Select value/All\"), this.getPrice())), this.calendarInputs()), !this.state.price && !this.state.location || this.state.price === \"Select value/All\" || this.state.location === \"select city\" ? this.displayAllData() : React.createElement(DisplaySearchResults, {\n      location: this.state.location,\n      price: this.state.price,\n      dateStart: this.state.dateStart,\n      dateEnd: this.state.dateEnd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/jonathan.e/Desktop/viagogo-tickets/frontend/src/Components/Search.js"],"names":["React","Component","DisplaySearchResults","eltonBanner","Link","tickets","require","Search","constructor","handleChange","event","setState","target","name","value","calendarInputs","displayLocations","ticInfo","Object","values","default","Items","singleCity","forEach","el","i","VenueCity","finalCity","map","getPrice","sortedValues","push","MinPrice","sort","reverse","displayAllData","tix","EventId","Day","Date","Time","VenueName","EventName","state","location","price","dateStart","dateEnd","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,oBAAP,MAAiC,2BAAjC;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,mBAAP;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,eAAD,CAAvB,C,CACA;;;AACA,MAAMC,MAAN,SAAqBN,SAArB,CAA+B;AAC7BO,EAAAA,WAAW,GAAG;AACZ;;AADY,SAUdC,YAVc,GAUCC,KAAK,IAAI;AACtB,WAAKC,QAAL,CAAc;AACZ,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AADtB,OAAd;AAGD,KAda;;AAAA,SAgBdC,cAhBc,GAgBG,MAAM;AACrB,aACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AACE,QAAA,SAAS,EAAC,WADZ;AAEE,QAAA,QAAQ,EAAE,KAAKN,YAFjB;AAGE,QAAA,IAAI,EAAC,MAHP;AAIE,QAAA,IAAI,EAAC,WAJP;AAKE,QAAA,WAAW,EAAC,aALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BATF,EAUE;AACE,QAAA,SAAS,EAAC,WADZ;AAEE,QAAA,QAAQ,EAAE,KAAKA,YAFjB;AAGE,QAAA,IAAI,EAAC,MAHP;AAIE,QAAA,IAAI,EAAC,SAJP;AAKE,QAAA,WAAW,EAAC,WALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,CADF;AAoBD,KArCa;;AAAA,SAuCdO,gBAvCc,GAuCK,MAAM;AACvB,UAAIC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAcd,OAAO,CAACe,OAAR,CAAgBC,KAA9B,CAAd;AACA,UAAIC,UAAU,GAAG,EAAjB;AACAL,MAAAA,OAAO,CAACM,OAAR,CAAgB,CAACC,EAAD,EAAKC,CAAL,KAAW;AACzBH,QAAAA,UAAU,CAACE,EAAE,CAACE,SAAJ,CAAV,GAA2BF,EAAE,CAACE,SAA9B;AACD,OAFD;AAGA,UAAIC,SAAS,GAAGT,MAAM,CAACC,MAAP,CAAcG,UAAd,CAAhB;AACA,aAAOK,SAAS,CAACC,GAAV,CAAc,CAACJ,EAAD,EAAKC,CAAL,KAAW;AAC9B,eAAO;AAAQ,UAAA,GAAG,EAAEA,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiBD,EAAjB,CAAP;AACD,OAFM,CAAP;AAGD,KAjDa;;AAAA,SAmDdK,QAnDc,GAmDH,MAAM;AACf,UAAIC,YAAY,GAAG,EAAnB;AACA,UAAIb,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAcd,OAAO,CAACe,OAAR,CAAgBC,KAA9B,CAAd;AACAJ,MAAAA,OAAO,CAACM,OAAR,CAAgBC,EAAE,IAAI;AACpBM,QAAAA,YAAY,CAACC,IAAb,CAAkBP,EAAE,CAACQ,QAArB;AACD,OAFD;AAGAF,MAAAA,YAAY,CAACG,IAAb,GAAoBC,OAApB;AAEA,aAAOJ,YAAY,CAACF,GAAb,CAAiB,CAACJ,EAAD,EAAKC,CAAL,KAAW;AACjC,eAAO;AAAQ,UAAA,GAAG,EAAEA,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiBD,EAAjB,CAAP;AACD,OAFM,CAAP;AAGD,KA9Da;;AAAA,SAgEdW,cAhEc,GAgEG,MAAM;AACrB,UAAIlB,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAcd,OAAO,CAACe,OAAR,CAAgBC,KAA9B,CAAd;AACA,aAAOJ,OAAO,CAACW,GAAR,CAAYQ,GAAG,IAAI;AACxB,eACE;AAAK,UAAA,GAAG,EAAEA,GAAG,CAACC,OAAd;AAAuB,UAAA,SAAS,EAAC,4BAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASD,GAAG,CAACE,GAAb,CADX,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALF,EAOE;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASF,GAAG,CAACG,IAAb,CADR,CAPF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAVF,EAYE;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASH,GAAG,CAACI,IAAb,CADR,CAZF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAhBF,CADF,EAmBE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASJ,GAAG,CAACK,SAAb,CADT,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,EAKE;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASL,GAAG,CAACV,SAAb,CADZ,CALF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARF,EAUE;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASU,GAAG,CAACM,SAAb,CADb,CAVF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAdF,CAnBF,EAmCE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,GADH,aAES;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASN,GAAG,CAACJ,QAAb,CAFT,CADF,EAKE,oBAAC,IAAD;AAAM,UAAA,SAAS,EAAC,eAAhB;AAAgC,UAAA,EAAE,oBAAaI,GAAG,CAACC,OAAjB,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,CADF,CADF,CALF,CAnCF,CADF;AAmDD,OApDM,CAAP;AAqDD,KAvHa;;AAEZ,SAAKM,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,SAAS,EAAE,EAHA;AAIXC,MAAAA,OAAO,EAAE;AAJE,KAAb;AAMD;;AAiHDC,EAAAA,MAAM,GAAG;AACP;AACA;AACA;AACA,WACE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAgC,MAAA,GAAG,EAAE7C,WAArC;AAAkD,MAAA,GAAG,EAAC,EAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,QAAQ,EAAE,KAAKM,YAFjB;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,KAAK,EAAE,KAAKkC,KAAL,CAAWC,QAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBANF,EAOG,KAAK5B,gBAAL,EAPH,CAFF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAZF,EAaE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,QAAQ,EAAE,KAAKP,YAFjB;AAGE,MAAA,IAAI,EAAC,OAHP;AAIE,MAAA,KAAK,EAAE,KAAKkC,KAAL,CAAWE,KAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANF,EAOG,KAAKhB,QAAL,EAPH,CAbF,CADF,EAwBG,KAAKd,cAAL,EAxBH,CAJF,EA8BI,CAAC,KAAK4B,KAAL,CAAWE,KAAZ,IAAqB,CAAC,KAAKF,KAAL,CAAWC,QAAlC,IACA,KAAKD,KAAL,CAAWE,KAAX,KAAqB,kBAArB,IACC,KAAKF,KAAL,CAAWC,QAAX,KAAwB,aAFzB,GAGC,KAAKT,cAAL,EAHD,GAKC,oBAAC,oBAAD;AACE,MAAA,QAAQ,EAAE,KAAKQ,KAAL,CAAWC,QADvB;AAEE,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,KAFpB;AAGE,MAAA,SAAS,EAAE,KAAKF,KAAL,CAAWG,SAHxB;AAIE,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWI,OAJtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCJ,CADF,CADF;AA+CD;;AA7K4B;;AAgL/B,eAAexC,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport DisplaySearchResults from \"./DisplaySearchResults.js\";\nimport eltonBanner from \"../ASSETS/elton_john_banner.jpg\";\nimport { Link } from \"react-router-dom\";\nimport \"../CSS/Search.css\";\nconst tickets = require(\"../tickets.js\");\n//tickets.default.Items\nclass Search extends Component {\n  constructor() {\n    super();\n    this.state = {\n      location: \"\",\n      price: \"\",\n      dateStart: \"\",\n      dateEnd: \"\"\n    };\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  calendarInputs = () => {\n    return (\n      <div className=\"calendarInputDiv\">\n        <label>enter start date</label>\n        <input\n          className=\"selectTag\"\n          onChange={this.handleChange}\n          type=\"date\"\n          name=\"dateStart\"\n          placeholder=\"enter start\"\n        />\n        <label>enter end date</label>\n        <input\n          className=\"selectTag\"\n          onChange={this.handleChange}\n          type=\"date\"\n          name=\"dateEnd\"\n          placeholder=\"enter end\"\n        />\n      </div>\n    );\n  };\n\n  displayLocations = () => {\n    let ticInfo = Object.values(tickets.default.Items);\n    let singleCity = {};\n    ticInfo.forEach((el, i) => {\n      singleCity[el.VenueCity] = el.VenueCity;\n    });\n    let finalCity = Object.values(singleCity);\n    return finalCity.map((el, i) => {\n      return <option key={i}>{el}</option>;\n    });\n  };\n\n  getPrice = () => {\n    let sortedValues = [];\n    let ticInfo = Object.values(tickets.default.Items);\n    ticInfo.forEach(el => {\n      sortedValues.push(el.MinPrice);\n    });\n    sortedValues.sort().reverse();\n\n    return sortedValues.map((el, i) => {\n      return <option key={i}>{el}</option>;\n    });\n  };\n\n  displayAllData = () => {\n    let ticInfo = Object.values(tickets.default.Items);\n    return ticInfo.map(tix => {\n      return (\n        <div key={tix.EventId} className=\"displayTicketInfoContainer\">\n          <div className=\"displayLeft\">\n            <span className=\"displayPTag\">\n              Weekday: <strong>{tix.Day}</strong>\n            </span>\n\n            <br />\n\n            <span className=\"displayPTag\">\n              Date: <strong>{tix.Date}</strong>\n            </span>\n            <br />\n\n            <span className=\"displayPTag\">\n              Time: <strong>{tix.Time}</strong>\n            </span>\n\n            <br />\n          </div>\n          <div className=\"displayMiddle\">\n            <span className=\"displayPTag\">\n              Venue: <strong>{tix.VenueName}</strong>\n            </span>\n            <br />\n            <span className=\"displayPTag\">\n              Location: <strong>{tix.VenueCity}</strong>\n            </span>\n            <br />\n\n            <span className=\"displayPTag\">\n              Performer: <strong>{tix.EventName}</strong>\n            </span>\n\n            <br />\n          </div>\n          <div className=\"displayRight\">\n            <span className=\"displayPriceTag\">\n              {\" \"}\n              Price: <strong>{tix.MinPrice}</strong>\n            </span>\n            <Link className=\"buttonLinkTag\" to={`/events/${tix.EventId}`}>\n              <div className=\"buttonSpacer\">\n                <span className=\"buttonSpan\">\n                  <span className=\"textThatsButton\">view tickets here</span>\n                </span>\n              </div>\n            </Link>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  render() {\n    // console.log(typeof tickets.default.Items, \"the items\");\n    // console.log(this.state, \"location\");\n    // console.log(this.state.dateStart, \"the start date\");\n    return (\n      <div className=\"mainSearchContainer\">\n        <div className=\"innerSearchContainer\">\n          <div>\n            <img className=\"eltonBannerPic\" src={eltonBanner} alt=\"\" />\n          </div>\n          <div className=\"selectionContainer\">\n            <div className=\"selectionInput\">\n              <span>Select City: </span>\n              <select\n                className=\"selectTag\"\n                onChange={this.handleChange}\n                name=\"location\"\n                value={this.state.location}\n              >\n                <option>select city</option>\n                {this.displayLocations()}\n              </select>\n\n              <span>Select Price:</span>\n              <select\n                className=\"selectTag\"\n                onChange={this.handleChange}\n                name=\"price\"\n                value={this.state.price}\n              >\n                <option>Select value/All</option>\n                {this.getPrice()}\n              </select>\n            </div>\n            {this.calendarInputs()}\n          </div>\n          {(!this.state.price && !this.state.location) ||\n          (this.state.price === \"Select value/All\" ||\n            this.state.location === \"select city\") ? (\n            this.displayAllData()\n          ) : (\n            <DisplaySearchResults\n              location={this.state.location}\n              price={this.state.price}\n              dateStart={this.state.dateStart}\n              dateEnd={this.state.dateEnd}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}